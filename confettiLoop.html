<!DOCTYPE html>
<html>
<head>
	<style type="text/css">
		body{
			background-color: white;
		}
		.confetti{
			width: 10px;
			height: 67px;
			/*background-color: blue;*/
			display: inline-block;
			border: 5px solid;
			position: absolute;
			animation-name: swing3d;
			animation-duration: 2s;
			animation-iteration-count: infinite;
			animation-direction: alternate;
			animation-timing-function: ease-in-out;
}
@keyframes swing {
from {
	transform: rotate(var(--startRotate));
}
to {
	transform: rotate(var(--endRotate));
}
}
@keyframes swing3d {
	from {
		transform: rotateZ(-65deg)rotateX(-65deg) rotateY(-180deg);
	}
	to{
		transform: rotateZ(65deg) rotateX(65deg)rotateY(180deg);
	}
}
</style>
</head>
<body>
	<button id="btn">drop confetti</button>
<script type="text/javascript">
	let my_teacher = ["lexi", "lexi#2", "lexi#3"]
	let colors = ["red", "green", "blue"]
	
	let dropConfettiBtn = document.getElementById("btn")
	function makeConfetti (){
		let square=document.createElement("div")
		square.classList.add("confetti")
		document.body.appendChild(square)
		let r=Math.round(Math.random()*255)
		let g=Math.round(Math.random()*255)
		let b=Math.round(Math.random()*255)
		let rotation = Math.random() * 360
		let startRotate = Math.random() * -67 + "deg"
		let endRotate = Math.random() * 67 + "deg"
square.style.backgroundColor="rgb("+r+", "+g+", "+b+")"
square.style.borderColor="rgb("+r+", "+g+", "+b+")"
square.style.top = Math.random() * 1000 + "px"
square.style.left = Math.random() * window.innerWidth + "px"
square.style.height = Math.random() * 50 + "px"
square.style.width = Math.random() * 50 + "px"

square.style.transform = "rotate(" + rotation + "deg)"
		let x = Math.round(Math.random()*2)
		// square.style.backgroundColor = colors[x]
		square.style.borderColor=colors[x]
		square.style.setProperty("--startRotate", startRotate)
		square.style.setProperty("--endRotate", endRotate)
		function fall() {
			let fallFactor = 20
			square.style.top = parseInt(square.style.top) + fallFactor + "px"
		if (parseInt(square.style.top) > 1000){
			square.style.top = Math.random() * 100 + "px"
		}
		}
		setInterval(fall, 100)
	}
	dropConfettiBtn.addEventListener("click", function() {
		console.log("i click it!")
		for(let i = 0; i < 100; i++) {
		makeConfetti()
	}
		makeConfetti()
	})
	
	// setInterval(makeConfetti, 200)

</script>
</body>
</html>